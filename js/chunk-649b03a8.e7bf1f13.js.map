{"version":3,"sources":["webpack:///./src/components/Spinner.vue?af23","webpack:///./src/components/Spinner.vue","webpack:///./src/components/Tweet.vue?4c8d","webpack:///./src/apis/tweets.js","webpack:///./src/views/Tweets.vue?2477","webpack:///src/views/Tweets.vue","webpack:///./src/views/Tweets.vue?0d94","webpack:///./src/views/Tweets.vue","webpack:///./src/views/Tweets.vue?3141","webpack:///./src/components/Tweet.vue?f9cb","webpack:///src/components/Tweet.vue","webpack:///./src/components/Tweet.vue?45c6","webpack:///./src/components/Tweet.vue","webpack:///./src/components/Spinner.vue?15ab","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","staticClass","script","component","getTweets","apiHelper","get","postTweets","description","post","postLike","tweetId","postUnlike","getSingleTweet","attrs","currentUser","avatar","directives","name","rawName","value","expression","modifiers","domProps","on","$event","target","composing","text","trim","$forceUpdate","class","disabled","isProcessing","stopPropagation","preventDefault","sendTweet","_v","_l","tweet","key","id","components","Tweet","Spinner","data","tweets","isLoading","created","fetchTweets","computed","watch","sockets","ONLINE_LIST_UPDATE","$store","commit","methods","message","length","icon","title","updateTweets","User","_s","account","_f","createdAt","toggleReplyModal","apply","arguments","replyCounts","toggleLikeModal","isLike","likeCounts","mixins","props","initialTweet","type","Object","required","fetchTweet","reply","$","$map","map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","proto","forced","callbackfn","undefined"],"mappings":"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","file":"js/chunk-649b03a8.e7bf1f13.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spinner\"},[_c('div',{staticClass:\"bouncing-loader\"},[_c('div'),_c('div'),_c('div')])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Spinner.vue?vue&type=template&id=03284d6c&scoped=true&\"\nvar script = {}\nimport style0 from \"./Spinner.vue?vue&type=style&index=0&id=03284d6c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03284d6c\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweet.vue?vue&type=style&index=0&lang=scss&\"","import { apiHelper } from './../mixins/helpers'\n\nexport default {\n  getTweets () {\n    return apiHelper.get('/tweets')\n  },\n  postTweets ({ description }) {\n    return apiHelper.post('/tweets/', { description })\n  },\n  postLike (tweetId) {\n    return apiHelper.post(`/tweets/${tweetId}/like`)\n  },\n  postUnlike (tweetId) {\n    return apiHelper.post(`/tweets/${tweetId}/unlike`)\n  },\n  getSingleTweet ({ tweetId }) {\n    return apiHelper.get(`/tweets/${tweetId}`)\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tweets-container\"},[_c('header',{staticClass:\"tweets__header\"},[_vm._m(0),_c('div',{staticClass:\"tweets__header__post\"},[_c('router-link',{staticClass:\"tweets__header__post--avatar\",attrs:{\"to\":(\"/home/\" + (_vm.currentUser.id))}},[_c('img',{attrs:{\"src\":_vm.currentUser.avatar ||\n            'https://i.pinimg.com/originals/1f/7c/70/1f7c70f9b5b5f0e1972a4888468ed84c.jpg',\"alt\":\"avatar\",\"aria-label\":\"avatar\"}})]),_c('div',{staticClass:\"tweets__header__post__wrapper\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.text),expression:\"text\",modifiers:{\"trim\":true}}],attrs:{\"name\":\"new-post\",\"id\":\"new-post\",\"rows\":\"3\",\"placeholder\":\"有什麼新鮮事？\",\"autofocus\":\"\"},domProps:{\"value\":(_vm.text)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.text=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('button',{staticClass:\"active\",class:{ disabled: _vm.isProcessing },attrs:{\"disabled\":_vm.isProcessing},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.sendTweet(_vm.text)}}},[_vm._v(\" 推文 \")])])],1)]),_c('hr',{staticClass:\"tweets-line\"}),[(_vm.isLoading)?_c('Spinner'):_vm._l((_vm.tweets),function(tweet){return _c('Tweet',{key:tweet.id,attrs:{\"initial-tweet\":tweet}})})]],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"tweets__header__title\"},[_c('h1',[_vm._v(\"首頁\")])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"tweets-container\">\n    <header class=\"tweets__header\">\n      <div class=\"tweets__header__title\">\n        <h1>首頁</h1>\n      </div>\n      <div class=\"tweets__header__post\">\n        <router-link\n          :to=\"`/home/${currentUser.id}`\"\n          class=\"tweets__header__post--avatar\"\n        >\n          <img\n            :src=\"\n              currentUser.avatar ||\n              'https://i.pinimg.com/originals/1f/7c/70/1f7c70f9b5b5f0e1972a4888468ed84c.jpg'\n            \"\n            alt=\"avatar\"\n            aria-label=\"avatar\"\n          />\n        </router-link>\n        <div class=\"tweets__header__post__wrapper\">\n          <textarea\n            v-model.trim=\"text\"\n            name=\"new-post\"\n            id=\"new-post\"\n            rows=\"3\"\n            placeholder=\"有什麼新鮮事？\"\n            autofocus\n          >\n          </textarea>\n          <button\n            class=\"active\"\n            @click.stop.prevent=\"sendTweet(text)\"\n            :disabled=\"isProcessing\"\n            :class=\"{ disabled: isProcessing }\"\n          >\n            推文\n          </button>\n        </div>\n      </div>\n    </header>\n    <hr class=\"tweets-line\" />\n    <template>\n      <Spinner v-if=\"isLoading\" />\n      <Tweet\n        v-for=\"tweet in tweets\"\n        :key=\"tweet.id\"\n        :initial-tweet=\"tweet\"\n        v-else\n      />\n    </template>\n  </div>\n</template>\n\n<script>\nimport Tweet from './../components/Tweet'\nimport Spinner from './../components/Spinner.vue'\nimport { mapState } from 'vuex'\nimport { Toast } from './../mixins/helpers'\nimport tweetsAPI from './../apis/tweets'\n\nexport default {\n  name: 'tweets',\n  components: {\n    Tweet,\n    Spinner\n  },\n  data () {\n    return {\n      tweets: [],\n      text: '',\n      isProcessing: false,\n      isLoading: true\n    }\n  },\n  created () {\n    this.fetchTweets()\n  },\n  computed: {\n    ...mapState(['currentUser', 'tweet'])\n  },\n  watch: {\n    tweet () {\n      this.sendTweet(this.tweet)\n    }\n  },\n  sockets: {\n    ONLINE_LIST_UPDATE (data) {\n      this.$store.commit('SOCKET_storeUserList', data)\n    }\n  },\n  methods: {\n    async fetchTweets () {\n      try {\n        this.isLoading = true\n        const { data } = await tweetsAPI.getTweets()\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        this.tweets = data.map((data) => {\n          return {\n            ...data\n          }\n        })\n        this.isLoading = false\n      } catch (error) {\n        this.isLoading = false\n        Toast.fire({\n          icon: 'error',\n          title: '無法獲取推文，請稍後再嘗試'\n        })\n      }\n    },\n    sendTweet (message) {\n      if (!message) {\n        Toast.fire({\n          icon: 'warning',\n          title: '內容不可空白'\n        })\n        return\n      }\n\n      if (message.length > 140) {\n        Toast.fire({\n          icon: 'warning',\n          title: '超過推文字數限制'\n        })\n        return\n      }\n      this.updateTweets(message)\n      this.text = ''\n    },\n    async updateTweets (message) {\n      try {\n        this.isProcessing = true\n        this.isLoading = true\n        const description = message\n        const { data } = await tweetsAPI.postTweets({ description })\n        if (data.status !== 'success') {\n          throw new Error(data.message)\n        }\n        this.fetchTweets()\n        this.isProcessing = false\n        this.isLoading = false\n      } catch (err) {\n        this.isProcessing = false\n        this.isLoading = false\n        Toast.fire({\n          icon: 'error',\n          title: '推文失敗，請稍後再試'\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.tweets-container {\n  grid-column: 1;\n  height: 100vh;\n  border-inline: 1px solid var(--border-color);\n  overflow: scroll;\n}\n\n.tweets__header {\n  &__title {\n    padding: 1.5rem 0 1.4rem 1.5rem;\n    border-bottom: 1px solid var(--border-color);\n    h1 {\n      font-size: $font-lg;\n      font-weight: bold;\n    }\n  }\n  &__post {\n    display: flex;\n    &--avatar {\n      flex-shrink: 0;\n      padding: 1rem 1rem 1rem 1.5rem;\n      img {\n        width: 5rem;\n        height: 5rem;\n        border-radius: 50%;\n        object-fit: cover;\n      }\n    }\n    &__wrapper {\n      display: flex;\n      flex-direction: column;\n      flex: calc(100% - 6.5rem);\n      margin: 2.1rem 1.5rem 1rem 0;\n      textarea {\n        border: none;\n        resize: none;\n      }\n      button {\n        @extend %buttonStyle;\n        width: 6.6rem;\n        height: 3.8rem;\n        align-self: flex-end;\n        font-size: $font-lg;\n      }\n    }\n  }\n}\n.tweets-line {\n  margin: 0;\n  border: 0.5rem solid;\n  color: var(--border-color);\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweets.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tweets.vue?vue&type=template&id=bda9f41c&\"\nimport script from \"./Tweets.vue?vue&type=script&lang=js&\"\nexport * from \"./Tweets.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tweets.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweets.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"tweet-container\"},[_c('div',{staticClass:\"tweet\"},[_c('router-link',{staticClass:\"tweet__avatar\",attrs:{\"to\":(\"/home/\" + (_vm.tweet.User.id))}},[_c('img',{staticClass:\"tweet__avatar--img\",attrs:{\"src\":_vm.tweet.User.avatar ||\n            'https://i.pinimg.com/originals/1f/7c/70/1f7c70f9b5b5f0e1972a4888468ed84c.jpg',\"alt\":\"avatar\",\"aria-label\":\"avatar\"}})]),_c('div',{staticClass:\"tweet__info\"},[_c('div',{staticClass:\"tweet__info-postBy\"},[_c('router-link',{attrs:{\"to\":(\"/home/\" + (_vm.tweet.User.id))}},[_c('span',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.tweet.User.name || \"NoName\")+\" \")]),_c('span',{staticClass:\"account\"},[_vm._v(\"@\"+_vm._s(_vm.tweet.User.account)+\"・\")])]),_c('router-link',{attrs:{\"to\":(\"/home/tweets/\" + (_vm.tweet.id))}},[_c('span',{staticClass:\"timeStamp\"},[_vm._v(_vm._s(_vm._f(\"fromNow\")(_vm.tweet.createdAt)))])])],1),_c('router-link',{attrs:{\"to\":(\"/home/tweets/\" + (_vm.tweet.id))}},[_c('p',{staticClass:\"tweet__info-description\"},[_vm._v(_vm._s(_vm.tweet.description))])]),_c('div',{staticClass:\"tweet__info-count\"},[_c('span',{staticClass:\"tweet__info-count--reply\",on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.toggleReplyModal.apply(null, arguments)}}},[_c('svg',{attrs:{\"width\":\"15\",\"height\":\"15\",\"viewBox\":\"0 0 15 15\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M8.77881 1.40127L6.18631 1.39502H6.18506C3.45131 1.39502 1.31006 3.53689 1.31006 6.27127C1.31006 8.83252 3.30131 10.775 5.97568 10.8775V13.27C5.97568 13.3375 6.00318 13.4488 6.05068 13.5219C6.13943 13.6625 6.29068 13.7388 6.44568 13.7388C6.53193 13.7388 6.61881 13.715 6.69693 13.665C6.86193 13.56 10.7426 11.0775 11.7519 10.2238C12.9407 9.21752 13.6519 7.74252 13.6538 6.27877V6.26814C13.6501 3.53877 11.5101 1.40127 8.77881 1.40064V1.40127ZM11.1457 9.50877C10.4369 10.1088 8.10693 11.6369 6.91318 12.4106V10.4188C6.91318 10.16 6.70381 9.95002 6.44443 9.95002H6.19693C3.90943 9.95002 2.24818 8.40252 2.24818 6.27127C2.24818 4.06252 3.97818 2.33252 6.18568 2.33252L8.77756 2.33877H8.77881C10.9863 2.33877 12.7163 4.06752 12.7176 6.27377C12.7157 7.46752 12.1288 8.67627 11.1463 9.50877H11.1457Z\",\"fill\":\"#657786\"}})]),_c('span',{staticClass:\"tweet__info-count--replyNumber\"},[_vm._v(_vm._s(_vm.tweet.replyCounts))])]),_c('span',{staticClass:\"tweet__info-count--like\",on:{\"click\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.toggleLikeModal(_vm.tweet.id, _vm.tweet.isLike)}}},[_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.tweet.isLike),expression:\"!tweet.isLike\"}],attrs:{\"width\":\"15\",\"height\":\"15\",\"viewBox\":\"0 0 15 15\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M7.5 13.5239H7.49125C5.87687 13.4939 1.21875 9.28514 1.21875 5.29889C1.21875 3.38389 2.79687 1.70264 4.59562 1.70264C6.02687 1.70264 6.98937 2.69014 7.49937 3.40889C8.00812 2.69139 8.97062 1.70264 10.4025 1.70264C12.2025 1.70264 13.78 3.38389 13.78 5.29951C13.78 9.28451 9.12125 13.4933 7.50687 13.5226H7.5V13.5239ZM4.59625 2.64076C3.29625 2.64076 2.15687 3.88326 2.15687 5.30014C2.15687 8.88764 6.55312 12.5476 7.50062 12.5864C8.44937 12.5476 12.8444 8.88826 12.8444 5.30014C12.8444 3.88326 11.705 2.64076 10.405 2.64076C8.825 2.64076 7.9425 4.47576 7.935 4.49389C7.79125 4.84514 7.2125 4.84514 7.06812 4.49389C7.05937 4.47514 6.1775 2.64076 4.59687 2.64076H4.59625Z\",\"fill\":\"#657786\"}})]),_c('svg',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tweet.isLike),expression:\"tweet.isLike\"}],attrs:{\"width\":\"22\",\"height\":\"20\",\"viewBox\":\"0 0 22 20\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('path',{attrs:{\"d\":\"M11 19.6381H10.986C8.40295 19.5901 0.949951 12.8561 0.949951 6.47812C0.949951 3.41412 3.47495 0.724121 6.35295 0.724121C8.64295 0.724121 10.183 2.30412 10.999 3.45412C11.813 2.30612 13.353 0.724121 15.644 0.724121C18.524 0.724121 21.048 3.41412 21.048 6.47912C21.048 12.8551 13.594 19.5891 11.011 19.6361H11V19.6381Z\",\"fill\":\"#E0245E\"}})]),_c('span',[_vm._v(_vm._s(_vm.tweet.likeCounts))])])])],1)],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"tweet-container\">\n      <div class=\"tweet\">\n        <router-link :to=\"`/home/${tweet.User.id}`\" class=\"tweet__avatar\">\n          <img\n            class=\"tweet__avatar--img\"\n            :src=\"\n              tweet.User.avatar ||\n              'https://i.pinimg.com/originals/1f/7c/70/1f7c70f9b5b5f0e1972a4888468ed84c.jpg'\n            \"\n            alt=\"avatar\"\n            aria-label=\"avatar\"\n          />\n        </router-link>\n        <div class=\"tweet__info\">\n          <div class=\"tweet__info-postBy\">\n            <router-link :to=\"`/home/${tweet.User.id}`\">\n              <span class=\"name\">{{ tweet.User.name || \"NoName\" }} </span>\n              <span class=\"account\">@{{ tweet.User.account }}・</span>\n            </router-link>\n            <router-link :to=\"`/home/tweets/${tweet.id}`\">\n              <span class=\"timeStamp\">{{ tweet.createdAt | fromNow }}</span>\n            </router-link>\n          </div>\n          <router-link :to=\"`/home/tweets/${tweet.id}`\">\n            <p class=\"tweet__info-description\">{{ tweet.description }}</p>\n          </router-link>\n          <div class=\"tweet__info-count\">\n            <!-- 點擊回覆打開回覆modal @click.prevent.stop=\"toggleReplyModal(tweet.id)\"-->\n            <!-- <router-link :to=\"`/home/tweets/${tweet.id}`\"> -->\n              <span class=\"tweet__info-count--reply\" @click.stop.prevent=\"toggleReplyModal\">\n                <svg\n                  width=\"15\"\n                  height=\"15\"\n                  viewBox=\"0 0 15 15\"\n                  fill=\"none\"\n                  xmlns=\"http://www.w3.org/2000/svg\"\n                >\n                  <path\n                    d=\"M8.77881 1.40127L6.18631 1.39502H6.18506C3.45131 1.39502 1.31006 3.53689 1.31006 6.27127C1.31006 8.83252 3.30131 10.775 5.97568 10.8775V13.27C5.97568 13.3375 6.00318 13.4488 6.05068 13.5219C6.13943 13.6625 6.29068 13.7388 6.44568 13.7388C6.53193 13.7388 6.61881 13.715 6.69693 13.665C6.86193 13.56 10.7426 11.0775 11.7519 10.2238C12.9407 9.21752 13.6519 7.74252 13.6538 6.27877V6.26814C13.6501 3.53877 11.5101 1.40127 8.77881 1.40064V1.40127ZM11.1457 9.50877C10.4369 10.1088 8.10693 11.6369 6.91318 12.4106V10.4188C6.91318 10.16 6.70381 9.95002 6.44443 9.95002H6.19693C3.90943 9.95002 2.24818 8.40252 2.24818 6.27127C2.24818 4.06252 3.97818 2.33252 6.18568 2.33252L8.77756 2.33877H8.77881C10.9863 2.33877 12.7163 4.06752 12.7176 6.27377C12.7157 7.46752 12.1288 8.67627 11.1463 9.50877H11.1457Z\"\n                    fill=\"#657786\"\n                  />\n                </svg>\n                <span class=\"tweet__info-count--replyNumber\">{{\n                  tweet.replyCounts\n                }}</span>\n              </span>\n            <!-- </router-link> -->\n            <!-- 點擊喜歡愛心亮起 -->\n            <span\n              @click.prevent.stop=\"toggleLikeModal(tweet.id, tweet.isLike)\"\n              class=\"tweet__info-count--like\"\n            >\n              <svg\n                v-show=\"!tweet.isLike\"\n                width=\"15\"\n                height=\"15\"\n                viewBox=\"0 0 15 15\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M7.5 13.5239H7.49125C5.87687 13.4939 1.21875 9.28514 1.21875 5.29889C1.21875 3.38389 2.79687 1.70264 4.59562 1.70264C6.02687 1.70264 6.98937 2.69014 7.49937 3.40889C8.00812 2.69139 8.97062 1.70264 10.4025 1.70264C12.2025 1.70264 13.78 3.38389 13.78 5.29951C13.78 9.28451 9.12125 13.4933 7.50687 13.5226H7.5V13.5239ZM4.59625 2.64076C3.29625 2.64076 2.15687 3.88326 2.15687 5.30014C2.15687 8.88764 6.55312 12.5476 7.50062 12.5864C8.44937 12.5476 12.8444 8.88826 12.8444 5.30014C12.8444 3.88326 11.705 2.64076 10.405 2.64076C8.825 2.64076 7.9425 4.47576 7.935 4.49389C7.79125 4.84514 7.2125 4.84514 7.06812 4.49389C7.05937 4.47514 6.1775 2.64076 4.59687 2.64076H4.59625Z\"\n                  fill=\"#657786\"\n                />\n              </svg>\n              <svg\n                v-show=\"tweet.isLike\"\n                width=\"22\"\n                height=\"20\"\n                viewBox=\"0 0 22 20\"\n                fill=\"none\"\n                xmlns=\"http://www.w3.org/2000/svg\"\n              >\n                <path\n                  d=\"M11 19.6381H10.986C8.40295 19.5901 0.949951 12.8561 0.949951 6.47812C0.949951 3.41412 3.47495 0.724121 6.35295 0.724121C8.64295 0.724121 10.183 2.30412 10.999 3.45412C11.813 2.30612 13.353 0.724121 15.644 0.724121C18.524 0.724121 21.048 3.41412 21.048 6.47912C21.048 12.8551 13.594 19.5891 11.011 19.6361H11V19.6381Z\"\n                  fill=\"#E0245E\"\n                />\n              </svg>\n              <span>{{ tweet.likeCounts }}</span>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport tweetsAPI from './../apis/tweets'\nimport { fromNowFilter, Toast } from './../mixins/helpers'\n\nexport default {\n  mixins: [fromNowFilter],\n  name: 'Tweet',\n  props: {\n    initialTweet: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      tweet: {\n        id: 0,\n        description: '',\n        createdAt: '',\n        User: {\n          id: -1,\n          account: '',\n          name: '',\n          avatar: ''\n        },\n        isLike: false,\n        likeCounts: 0,\n        replyCounts: 0\n      }\n    }\n  },\n  created () {\n    this.fetchTweet()\n  },\n  methods: {\n    toggleReplyModal () {\n      this.$store.commit('toggleModal', {\n        reply: 'reply',\n        id: this.tweet.id,\n        description: this.tweet.description,\n        createdAt: this.tweet.createdAt,\n        User: {\n          ...this.tweet.User\n        }\n      })\n      this.tweet.replyCounts++\n    },\n    async toggleLikeModal (tweetId, tweetIsLike) {\n      try {\n        if (tweetIsLike) {\n          const { data } = await tweetsAPI.postUnlike(tweetId)\n          if (data.status === 'error') {\n            throw new Error(data.message)\n          }\n          Toast.fire({\n            icon: 'success',\n            title: '成功取消喜歡'\n          })\n        } else {\n          const { data } = await tweetsAPI.postLike(tweetId)\n          if (data.status === 'error') {\n            throw new Error(data.message)\n          }\n          Toast.fire({\n            icon: 'success',\n            title: '成功喜歡一則推文'\n          })\n        }\n        this.tweet = {\n          ...this.tweet,\n          isLike: !this.tweet.isLike\n        }\n        if (!tweetIsLike) {\n          this.tweet.likeCounts++\n        } else {\n          this.tweet.likeCounts--\n        }\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: '無法切換喜歡狀態，請稍後再嘗試'\n        })\n      }\n    },\n    fetchTweet () {\n      this.tweet = {\n        ...this.initialTweet\n      }\n    }\n  },\n  watch: {\n    initialTweet (newValue) {\n      this.tweet = {\n        ...this.tweet,\n        ...newValue\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.tweet-container {\n  width: 100%;\n}\n\n.tweet {\n  display: flex;\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid var(--border-color);\n  &__avatar {\n    flex-shrink: 0;\n    width: 5rem;\n    height: 5rem;\n    border-radius: 50%;\n    overflow: hidden;\n    margin-right: 1rem;\n    &--img {\n      object-fit: cover;\n    }\n  }\n\n  &__info {\n    &-postBy {\n      font-size: $font-md;\n      line-height: $font-md;\n      .name {\n        margin-right: 0.5rem;\n        font-weight: bold;\n        color: var(--font-color);\n      }\n      .account,\n      .timeStamp {\n        color: var(--label-color);\n      }\n    }\n    &-description {\n      padding: 0.6rem 0 1rem 0;\n      color: var(--font-color);\n      font-size: $font-md;\n    }\n    &-count {\n      position: relative;\n      display: flex;\n      width: 13rem;\n      &--replyNumber {\n        color: var(--font-color);\n      }\n      span {\n        display: flex;\n        align-items: center;\n        font-size: $font-xs;\n        justify-content: flex-start;\n        svg {\n          margin: 0 1rem 0 0;\n          height: 1.5rem;\n          cursor: pointer;\n        }\n      }\n      &--like {\n        position: absolute;\n        left: 70%;\n        display: flex;\n        align-items: center;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tweet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tweet.vue?vue&type=template&id=1154044a&\"\nimport script from \"./Tweet.vue?vue&type=script&lang=js&\"\nexport * from \"./Tweet.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tweet.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=style&index=0&id=03284d6c&scoped=true&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}