(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a15f7616"],{2375:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner"},[n("div",{staticClass:"bouncing-loader"},[n("div"),n("div"),n("div")])])}],r=(n("d0b5"),n("2877")),i={},c=Object(r["a"])(i,s,a,!1,null,"03284d6c",null);e["a"]=c.exports},"661e":function(t,e,n){"use strict";n("7437")},6783:function(t,e,n){"use strict";n("a4d3"),n("e01a");var s=n("b132");e["a"]={getTweets:function(){return s["b"].get("/tweets")},postTweets:function(t){var e=t.description;return s["b"].post("/tweets/",{description:e})},postLike:function(t){return s["b"].post("/tweets/".concat(t,"/like"))},postUnlike:function(t){return s["b"].post("/tweets/".concat(t,"/unlike"))},getSingleTweet:function(t){var e=t.tweetId;return s["b"].get("/tweets/".concat(e))}}},"703e":function(t,e,n){},7437:function(t,e,n){},9451:function(t,e,n){},d0b5:function(t,e,n){"use strict";n("703e")},d81d:function(t,e,n){"use strict";var s=n("23e7"),a=n("b727").map,r=n("1dde"),i=r("map");s({target:"Array",proto:!0,forced:!i},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},f852:function(t,e,n){"use strict";n("9451")},fa6a:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"admin-tweets-container"},[t._m(0),t.isLoading?n("Spinner"):t._e(),t._l(t.tweets,(function(e){return n("AdminTweet",{key:e.id,attrs:{"initial-tweet":e},on:{"delete-post":t.deletePost}})}))],2)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"admin-tweets__header"},[n("h1",{staticClass:"admin-tweets__header--title"},[t._v("推文清單")])])}],r=n("1da1"),i=n("5530"),c=(n("96cf"),n("d81d"),n("4de4"),n("d3b7"),n("2f62")),o=n("2375"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tweet"},[n("div",{staticClass:"tweet__avatar"},[n("img",{staticClass:"tweet__avatar--img",attrs:{src:t.tweet.User.avatar||"https://i.pinimg.com/originals/1f/7c/70/1f7c70f9b5b5f0e1972a4888468ed84c.jpg",alt:"avatar","aria-label":"avatar"}})]),n("div",{staticClass:"tweet__info"},[n("div",{staticClass:"tweet__info-tweetBy"},[n("span",{staticClass:"name"},[t._v(" "+t._s(t.tweet.User.name)+" ")]),n("span",{staticClass:"account"},[t._v("@"+t._s(t.tweet.User.account)+"・")]),n("span",{staticClass:"timeStamp"},[t._v(t._s(t._f("fromNow")(t.tweet.createdAt)))])]),n("p",{staticClass:"tweet__info-description--admin"},[t._v(t._s(t.tweet.description))]),n("svg",{staticClass:"tweet__info--svg",attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deletePostRequest(t.tweet.id)}}},[n("path",{attrs:{d:"M9.414 8.00012L15.207 2.20712C15.597 1.81712 15.597 1.18412 15.207 0.793119C14.817 0.402119 14.184 0.403119 13.793 0.793119L8 6.58612L2.207 0.793119C1.817 0.403119 1.184 0.403119 0.792997 0.793119C0.401997 1.18312 0.402997 1.81612 0.792997 2.20712L6.586 8.00012L0.792997 13.7931C0.402997 14.1831 0.402997 14.8161 0.792997 15.2071C0.987997 15.4021 1.243 15.5001 1.5 15.5001C1.757 15.5001 2.012 15.4021 2.207 15.2071L8 9.41412L13.793 15.2071C13.988 15.4021 14.243 15.5001 14.5 15.5001C14.757 15.5001 15.012 15.4021 15.207 15.2071C15.597 14.8171 15.597 14.1841 15.207 13.7931L9.414 8.00012Z",fill:"#657786"}})])])])},l=[],d=n("b132"),f={mixins:[d["c"]],name:"AdminTweet",props:{initialTweet:{type:Object,required:!0}},data:function(){return{tweet:{id:0,description:"",createdAt:"2001-12-02T16:44:25.000Z",User:{id:-1,account:"",name:"",avatar:""}}}},created:function(){this.fetchTweet()},computed:Object(i["a"])({},Object(c["b"])(["currentUser"])),methods:{fetchTweet:function(){this.tweet=Object(i["a"])({},this.initialTweet)},deletePostRequest:function(t){this.$emit("delete-post",t)}}},w=f,p=(n("f852"),n("2877")),v=Object(p["a"])(w,u,l,!1,null,null,null),m=v.exports,h=n("6783"),_=n("be6c"),b={name:"profile-tweets",components:{AdminTweet:m,Spinner:o["a"]},data:function(){return{tweets:[],isProcessing:!1,isLoading:!0}},computed:Object(i["a"])({},Object(c["b"])(["currentUser"])),created:function(){this.fetchTweets()},methods:{fetchTweets:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isProcessing=!0,t.isLoading=!0,e.next=5,h["a"].getTweets();case 5:if(n=e.sent,s=n.data,"error"!==s.status){e.next=9;break}throw new Error(s.message);case 9:t.tweets=s.map((function(t){return Object(i["a"])({},t)})),t.isLoading=!1,e.next=17;break;case 13:e.prev=13,e.t0=e["catch"](0),t.isLoading=!1,d["a"].fire({icon:"error",title:"無法獲取推文"});case 17:case"end":return e.stop()}}),e,null,[[0,13]])})))()},deletePost:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,_["a"].delete(t);case 3:if(s=n.sent,a=s.data,"error"!==a.status){n.next=7;break}throw new Error(a.message);case 7:e.tweets=e.tweets.filter((function(e){return e.id!==t})),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),d["a"].fire({icon:"error",title:"無法刪除餐廳"});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()}}},g=b,C=(n("661e"),Object(p["a"])(g,s,a,!1,null,null,null));e["default"]=C.exports}}]);
//# sourceMappingURL=chunk-a15f7616.ef261a0f.js.map