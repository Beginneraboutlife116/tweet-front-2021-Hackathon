{"version":3,"sources":["webpack:///./src/components/Followship.vue?638f","webpack:///src/components/Followship.vue","webpack:///./src/components/Followship.vue?2faa","webpack:///./src/components/Followship.vue","webpack:///./src/components/Spinner.vue?af23","webpack:///./src/components/Spinner.vue","webpack:///./src/apis/followships.js","webpack:///./src/components/Followship.vue?f053","webpack:///./src/views/Followers.vue?178d","webpack:///./src/components/Spinner.vue?15ab","webpack:///./src/views/Followers.vue?5037","webpack:///src/views/Followers.vue","webpack:///./src/views/Followers.vue?b92d","webpack:///./src/views/Followers.vue","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","follow","avatar","_v","_s","name","account","introduction","class","active","isFollowing","currentUser","id","followingId","followerId","on","$event","stopPropagation","preventDefault","toggleFollow","staticRenderFns","props","initialFollow","type","Object","required","data","created","fetchFollow","computed","methods","watch","component","_m","script","getFollowings","userId","apiHelper","get","getFollowers","getTopFollow","addFollow","post","cancelFollow","delete","$router","back","style","visibility","isLoading","profile","tweetCounts","_l","follower","key","_e","components","Followship","Spinner","followers","fetchFollowers","fetchProfile","beforeRouteUpdate","next","$","$map","map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced","callbackfn","arguments","length","undefined"],"mappings":"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","file":"js/chunk-038f7643.160edda1.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"follow\"},[_c('router-link',{staticClass:\"follow__avatar\",attrs:{\"to\":(\"/home/\" + (_vm.follow.followingId))}},[_c('img',{staticClass:\"follow__avatar--img\",attrs:{\"src\":_vm.follow.avatar ||\n        'https://i.pinimg.com/originals/1f/7c/70/1f7c70f9b5b5f0e1972a4888468ed84c.jpg',\"alt\":\"avatar\",\"aria-label\":\"avatar\"}})]),_c('div',{staticClass:\"follow__info\"},[_c('div',{staticClass:\"follow__info-followship\"},[_c('router-link',{attrs:{\"to\":(\"/home/\" + (_vm.follow.followingId))}},[_c('p',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.follow.name || \"NoName\"))]),_c('p',{staticClass:\"account\"},[_vm._v(\"@\"+_vm._s(_vm.follow.account))])])],1),_c('p',{staticClass:\"follow__info-description\"},[_vm._v(\" \"+_vm._s(_vm.follow.introduction || \"（作者目前還沒有自我介紹內容）\")+\" \")])]),_c('button',{class:{ active: _vm.follow.isFollowing },attrs:{\"disabled\":_vm.currentUser.id === _vm.follow.followingId || _vm.currentUser.id === _vm.follow.followerId},on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.toggleFollow(_vm.follow.followingId || _vm.follow.followerId, _vm.follow.isFollowing)}}},[_vm._v(\" \"+_vm._s(_vm.follow.isFollowing ? \"正在跟隨\" : \"跟隨\")+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"follow\">\n    <!-- 點擊回文中使用者頭像/name/account時，能到profile頁 -->\n    <router-link :to=\"`/home/${follow.followingId}`\" class=\"follow__avatar\">\n      <img\n        class=\"follow__avatar--img\"\n        :src=\"\n          follow.avatar ||\n          'https://i.pinimg.com/originals/1f/7c/70/1f7c70f9b5b5f0e1972a4888468ed84c.jpg'\n        \"\n        alt=\"avatar\"\n        aria-label=\"avatar\"\n      />\n    </router-link>\n    <div class=\"follow__info\">\n      <div class=\"follow__info-followship\">\n        <!-- 點擊回文中使用者頭像/name/account時，能到profile頁 -->\n        <router-link :to=\"`/home/${follow.followingId}`\">\n          <p class=\"name\">{{ follow.name || \"NoName\" }}</p>\n          <p class=\"account\">@{{ follow.account }}</p>\n        </router-link>\n      </div>\n      <p class=\"follow__info-description\">\n        {{ follow.introduction || \"（作者目前還沒有自我介紹內容）\" }}\n      </p>\n    </div>\n    <button\n      @click.stop.prevent=\"toggleFollow(follow.followingId || follow.followerId, follow.isFollowing)\"\n      :class=\"{ active: follow.isFollowing }\"\n      :disabled=\"currentUser.id === follow.followingId || currentUser.id === follow.followerId\"\n    >\n      {{ follow.isFollowing ? \"正在跟隨\" : \"跟隨\" }}\n    </button>\n  </div>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\nimport { Toast } from './../mixins/helpers'\nimport followAPI from '../apis/followships'\nexport default {\n  name: 'Followship',\n  props: {\n    initialFollow: {\n      type: Object,\n      required: true\n    }\n  },\n  data () {\n    return {\n      follow: {\n        followingId: 20,\n        account: 'user2',\n        name: 'user2',\n        avatar: null,\n        introduction: null,\n        isFollowing: false\n      }\n    }\n  },\n  created () {\n    this.fetchFollow()\n  },\n  computed: {\n    ...mapState(['currentUser'])\n  },\n  methods: {\n    fetchFollow () {\n      this.follow = {\n        ...this.initialFollow\n      }\n    },\n    async toggleFollow (userId, userIsFollowing) {\n      try {\n        if (userIsFollowing) {\n          const { data } = await followAPI.cancelFollow(userId)\n          if (data.status === 'error') {\n            throw new Error(data.message)\n          }\n          this.follow.isFollowing = false\n          Toast.fire({\n            icon: 'success',\n            title: '成功取消追隨'\n          })\n        } else {\n          const { data } = await followAPI.addFollow(userId)\n          if (data.status === 'error') {\n            throw new Error(data.message)\n          }\n          this.follow.isFollowing = true\n          Toast.fire({\n            icon: 'success',\n            title: '成功加入追隨'\n          })\n        }\n      } catch (error) {\n        Toast.fire({\n          icon: 'error',\n          title: '無法修改追隨狀態'\n        })\n      }\n    }\n  },\n  watch: {\n    initialFollow (newValue) {\n      this.follow = {\n        ...this.follow,\n        ...newValue\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.follow {\n  position: relative;\n  display: flex;\n  padding: 1rem 1rem 0rem 1.5rem;\n  border-bottom: 1px solid var(--border-color);\n  &__avatar {\n    margin-top: 0.3rem;\n    margin-right: 1rem;\n    width: 5rem;\n    height: 5rem;\n    border-radius: 50%;\n    overflow: hidden;\n    img {\n      width: 5rem;\n      height: 5rem;\n      object-fit: cover;\n    }\n  }\n  &__info {\n    &-followship {\n      margin: 0.4rem 0 0.5rem 0;\n      font-size: $font-md;\n      line-height: $font-md;\n      .name {\n        margin-right: 0.5rem;\n        font-weight: bold;\n        color: var(--font-color);\n      }\n      .account {\n        margin: 0.5rem 0;\n        color: var(--label-color);\n      }\n    }\n    &-description {\n      margin-bottom: 1rem;\n      font-size: $font-md;\n    }\n  }\n  button {\n    @extend %buttonStyle;\n    position: absolute;\n    right: 1.5rem;\n    cursor: pointer;\n    height: 2.5rem;\n    width: 9rem;\n    font-size: $font-md;\n    &:disabled {\n      opacity: 0.5;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Followship.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Followship.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Followship.vue?vue&type=template&id=8aaa95fc&\"\nimport script from \"./Followship.vue?vue&type=script&lang=js&\"\nexport * from \"./Followship.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Followship.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spinner\"},[_c('div',{staticClass:\"bouncing-loader\"},[_c('div'),_c('div'),_c('div')])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./Spinner.vue?vue&type=template&id=03284d6c&scoped=true&\"\nvar script = {}\nimport style0 from \"./Spinner.vue?vue&type=style&index=0&id=03284d6c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"03284d6c\",\n  null\n  \n)\n\nexport default component.exports","import { apiHelper } from './../mixins/helpers'\n\nexport default {\n  getFollowings (userId) {\n    return apiHelper.get(`/users/${userId}/followings`)\n  },\n  getFollowers (userId) {\n    return apiHelper.get(`/users/${userId}/followers`)\n  },\n  getTopFollow () {\n    return apiHelper.get('/followships/top')\n  },\n  addFollow (id) {\n    return apiHelper.post('/followships', { id })\n  },\n  cancelFollow (id) {\n    return apiHelper.delete(`/followships/${id}`)\n  }\n}\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Followship.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Followers.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Spinner.vue?vue&type=style&index=0&id=03284d6c&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"followers-container\"},[_c('header',{staticClass:\"followers__header\"},[_c('div',{staticClass:\"followers__header__title\"},[_c('svg',{attrs:{\"width\":\"23\",\"height\":\"24\",\"viewBox\":\"0 0 23 24\",\"fill\":\"none\",\"xmlns\":\"http://www.w3.org/2000/svg\"},on:{\"click\":function($event){return _vm.$router.back()}}},[_c('path',{attrs:{\"d\":\"M18.9995 10.9999H6.4135L10.7065 6.70687C11.0965 6.31687 11.0965 5.68388 10.7065 5.29288C10.3165 4.90188 9.6835 4.90288 9.2925 5.29288L3.2925 11.2929C2.9025 11.6829 2.9025 12.3159 3.2925 12.7069L9.2925 18.7069C9.4875 18.9019 9.7425 18.9999 9.9995 18.9999C10.2565 18.9999 10.5115 18.9019 10.7065 18.7069C11.0965 18.3169 11.0965 17.6839 10.7065 17.2929L6.4135 12.9999H18.9995C19.5525 12.9999 19.9995 12.5529 19.9995 11.9999C19.9995 11.4469 19.5525 10.9999 18.9995 10.9999Z\",\"fill\":\"black\"}})]),_c('div',{staticClass:\"followers__header__title__wrapper\"},[_c('p',{staticClass:\"name\",style:({visibility: _vm.isLoading ? 'hidden;' : 'visible;'})},[_vm._v(_vm._s(_vm.isLoading ? '-' : _vm.profile.name))]),_c('p',{staticClass:\"tweetCounts\",style:({visibility: _vm.isLoading ? 'hidden;' : 'visible;'})},[_vm._v(_vm._s(_vm.profile.tweetCounts)+\" 推文\")])])])]),_c('div',{staticClass:\"main__follow__tabs\"},[_c('router-link',{staticClass:\"main__follow__tabs--link\",attrs:{\"to\":(\"/home/\" + (_vm.profile.id) + \"/followers\")}},[_c('p',[_vm._v(\"跟隨者\")])]),_c('router-link',{staticClass:\"main__follow__tabs--link\",attrs:{\"to\":(\"/home/\" + (_vm.profile.id) + \"/followings\")}},[_c('p',[_vm._v(\"正在跟隨\")])])],1),_vm._l((_vm.followers),function(follower){return _c('Followship',{key:follower.followerId,attrs:{\"initialFollow\":follower}})}),(_vm.isLoading)?_c('Spinner'):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"followers-container\">\n    <header class=\"followers__header\">\n      <div class=\"followers__header__title\">\n        <svg\n          @click=\"$router.back()\"\n          width=\"23\"\n          height=\"24\"\n          viewBox=\"0 0 23 24\"\n          fill=\"none\"\n          xmlns=\"http://www.w3.org/2000/svg\"\n        >\n          <path\n            d=\"M18.9995 10.9999H6.4135L10.7065 6.70687C11.0965 6.31687 11.0965 5.68388 10.7065 5.29288C10.3165 4.90188 9.6835 4.90288 9.2925 5.29288L3.2925 11.2929C2.9025 11.6829 2.9025 12.3159 3.2925 12.7069L9.2925 18.7069C9.4875 18.9019 9.7425 18.9999 9.9995 18.9999C10.2565 18.9999 10.5115 18.9019 10.7065 18.7069C11.0965 18.3169 11.0965 17.6839 10.7065 17.2929L6.4135 12.9999H18.9995C19.5525 12.9999 19.9995 12.5529 19.9995 11.9999C19.9995 11.4469 19.5525 10.9999 18.9995 10.9999Z\"\n            fill=\"black\"\n          />\n        </svg>\n        <div class=\"followers__header__title__wrapper\">\n          <p class=\"name\" :style=\"{visibility: isLoading ? 'hidden;' : 'visible;'}\">{{ isLoading ? '-' : profile.name }}</p>\n          <!-- nodata now -->\n          <p class=\"tweetCounts\" :style=\"{visibility: isLoading ? 'hidden;' : 'visible;'}\">{{ profile.tweetCounts }} 推文</p>\n        </div>\n      </div>\n    </header>\n    <div class=\"main__follow__tabs\">\n      <router-link\n        :to=\"`/home/${profile.id}/followers`\"\n        class=\"main__follow__tabs--link\"\n        ><p>跟隨者</p></router-link\n      >\n      <router-link\n        :to=\"`/home/${profile.id}/followings`\"\n        class=\"main__follow__tabs--link\"\n        ><p>正在跟隨</p></router-link\n      >\n      </div>\n      <Followship\n      v-for=\"follower in followers\"\n      :key=\"follower.followerId\"\n      :initialFollow=\"follower\"\n    />\n    <Spinner v-if=\"isLoading\" />\n  </div>\n</template>\n\n<script>\nimport { Toast } from './../mixins/helpers'\nimport usersAPI from './../apis/users'\nimport Followship from './../components/Followship'\nimport followAPI from '../apis/followships'\nimport Spinner from './../components/Spinner'\nexport default {\n  name: 'Followers',\n  components: {\n    Followship,\n    Spinner\n  },\n  data () {\n    return {\n      followers: [],\n      profile: {\n        id: 0,\n        name: 'user1',\n        tweetCounts: 0\n      },\n      isLoading: true\n    }\n  },\n  created () {\n    const { userId } = this.$route.params\n    this.fetchFollowers(userId)\n    this.fetchProfile(userId)\n  },\n  beforeRouteUpdate (to, from, next) {\n    const { userId } = to.params\n    this.fetchFollowers(userId)\n    this.fetchProfile(userId)\n    next()\n  },\n  methods: {\n    async fetchFollowers (userId) {\n      try {\n        this.isProcessing = true\n        this.isLoading = true\n        const { data } = await followAPI.getFollowers(userId)\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n        this.followers = data.map((data) => {\n          return {\n            ...data\n          }\n        })\n        this.isLoading = false\n      } catch (error) {\n        this.isLoading = false\n        Toast.fire({\n          icon: 'error',\n          title: '無法獲取跟隨者資料，請稍後再嘗試'\n        })\n      }\n    },\n    async fetchProfile (userId) {\n      try {\n        this.isProcessing = true\n        this.isLoading = true\n        const { data } = await usersAPI.getUserProfile(userId)\n        if (data.status === 'error') {\n          throw new Error(data.message)\n        }\n\n        this.profile = {\n          ...data\n        }\n        this.isLoading = false\n      } catch (error) {\n        this.isLoading = false\n        Toast.fire({\n          icon: 'error',\n          title: '無法獲取個人資料，請稍後再嘗試'\n        })\n      }\n    }\n  }\n}\n</script>\n<style lang=\"scss\">\n.router-link-exact-active.main__follow__tabs--link {\n  color: var(--main-color);\n  border-bottom: 2px solid var(--main-color);\n}\n\n.followers-container {\n  grid-column: 1;\n  height: 100vh;\n  border-inline: 1px solid var(--border-color);\n  overflow: scroll;\n}\n\n.followers__header {\n  svg {\n    cursor: pointer;\n  }\n  &__title {\n    display: flex;\n    align-items: center;\n    padding: 0.7rem 0 1rem 1.5rem;\n    &__wrapper {\n      display: flex;\n      flex-direction: column;\n      margin-left: 4rem;\n      .name {\n        line-height: 2.75rem;\n        font-weight: 900;\n        font-size: $font-xl;\n      }\n      .tweetCounts {\n        color: var(--label-color);\n        font-size: $font-xs;\n      }\n    }\n  }\n}\n\n.main__follow__tabs {\n  display: flex;\n  border-bottom: 1px solid var(--border-color);\n  &--link {\n    height: 5.2rem;\n    width: 13rem;\n    line-height: 5.2rem;\n    font-weight: 500;\n    font-size: $font-md;\n    color: var(--label-color);\n    text-align: center;\n    cursor: pointer;\n    &:hover {\n      color: var(--main-color);\n      border-bottom: 2px solid var(--main-color);\n    }\n  }\n}\n\n.follow {\n  position: relative;\n  display: flex;\n  padding: 1rem 1rem 0rem 1.5rem;\n  border-bottom: 1px solid var(--border-color);\n  &__avatar {\n    flex-shrink: 0;\n    margin-top: 0.3rem;\n    margin-right: 1rem;\n    width: 5rem;\n    height: 5rem;\n    border-radius: 50%;\n    overflow: hidden;\n    img {\n      object-fit: cover;\n    }\n  }\n  &__info {\n    &-follower {\n      margin: 0.4rem 0 0.5rem 0;\n      font-size: $font-md;\n      line-height: $font-md;\n      .name {\n        margin-right: 0.5rem;\n        font-weight: bold;\n        color: var(--font-color);\n      }\n      .account {\n        margin: 0.5rem 0;\n        color: var(--label-color);\n      }\n    }\n    &-description {\n      margin-bottom: 1rem;\n      font-size: $font-md;\n    }\n  }\n  button {\n    position: absolute;\n    right: 1.5rem;\n    @extend %buttonStyle;\n    height: 2.5rem;\n    width: 9rem;\n    font-size: $font-md;\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Followers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Followers.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Followers.vue?vue&type=template&id=31ce4e60&\"\nimport script from \"./Followers.vue?vue&type=script&lang=js&\"\nexport * from \"./Followers.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Followers.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}