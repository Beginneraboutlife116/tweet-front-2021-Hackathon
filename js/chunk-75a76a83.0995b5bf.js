(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-75a76a83"],{2375:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"spinner"},[i("div",{staticClass:"bouncing-loader"},[i("div"),i("div"),i("div")])])}],n=(i("d0b5"),i("2877")),s={},c=Object(n["a"])(s,r,a,!1,null,"03284d6c",null);e["a"]=c.exports},"2f3e":function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"reply-container"},[i("div",{staticClass:"reply"},[i("div",{staticClass:"reply__avatar"},[i("router-link",{attrs:{to:t.avatarNameLink}},[i("img",{staticClass:"reply__avatar--img",attrs:{src:t.avatar,alt:"avatar","aria-label":"avatar"}})])],1),i("div",{staticClass:"reply__info"},[i("div",{staticClass:"reply__info-replyBy"},[i("router-link",{attrs:{to:t.avatarNameLink}},[i("span",{staticClass:"name"},[t._v(" "+t._s(t.name)+" ")]),i("span",{staticClass:"account"},[t._v("@"+t._s(t.account)+"・")])]),i("router-link",{attrs:{to:t.toRepliesLink}},[i("span",{staticClass:"timeStamp"},[t._v(t._s(t._f("fromNow")(t.reply.createdAt)))])])],1),i("div",{staticClass:"reply__info-replyTo"},[i("span",{staticClass:"reply__info-replyTo--text"},[t._v(" 回覆 ")]),i("router-link",{attrs:{to:t.toAccountLink}},[i("span",{staticClass:"reply__info-replyTo--account"},[t._v("@"+t._s(t.replyAccount))])])],1),i("p",{staticClass:"reply__info-description"},[t._v(t._s(t.reply.comment))])])])])])},a=[],n=i("5530"),s=(i("caad"),i("2532"),i("b64b"),i("b0c0"),i("b132")),c={mixins:[s["c"]],name:"Reply",props:{initialReply:{type:Object,required:!0},initialTweet:{type:Object}},data:function(){return{reply:{id:-1,comment:"",createdAt:""},tweet:{}}},computed:{currentUser:function(){return this.$store.state.currentUser},replyAccount:function(){return Object.keys(this.reply).includes("tweet")?this.reply.tweet.User.account:this.tweet.User.account},avatarNameLink:function(){return Object.keys(this.reply).includes("tweet")?"/home/".concat(this.reply.userId):"/home/".concat(this.reply.User.id)},avatar:function(){return Object.keys(this.reply).includes("tweet")?this.reply.avatar||"https://i.pinimg.com/originals/1f/7c/70/1f7c70f9b5b5f0e1972a4888468ed84c.jpg":this.reply.User.avatar||"https://i.pinimg.com/originals/1f/7c/70/1f7c70f9b5b5f0e1972a4888468ed84c.jpg"},toAccountLink:function(){return Object.keys(this.reply).includes("tweet")?"/home/".concat(this.reply.tweet.User.id):"/home/".concat(this.tweet.User.id)},name:function(){return Object.keys(this.reply).includes("tweet")?this.reply.name||"NoName":this.reply.User.name||"NoName"},account:function(){return Object.keys(this.reply).includes("tweet")?this.currentUser.account:this.reply.User.account},toRepliesLink:function(){return Object.keys(this.reply).includes("tweet")?"/home/tweets/".concat(this.reply.tweet.id):"/home/tweets/".concat(this.$route.params.tweetId)}},created:function(){this.fetchReply(),this.tweet=Object(n["a"])({},this.initialTweet)},methods:{fetchReply:function(){this.reply=Object(n["a"])({},this.initialReply)}},watch:{initialReply:function(t){this.reply=Object(n["a"])(Object(n["a"])({},this.reply),t)},initialTweet:function(t){this.tweet=Object(n["a"])({},t)}}},o=c,l=(i("add3"),i("2877")),u=Object(l["a"])(o,r,a,!1,null,null,null);e["a"]=u.exports},"4c6b":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.isLoading?i("Spinner"):t._e(),t._l(t.replies,(function(t){return i("Reply",{key:t.id,attrs:{"initial-reply":t}})}))],2)},a=[],n=i("1da1"),s=i("5530"),c=(i("96cf"),i("d81d"),i("b0c0"),i("2f62")),o=i("2f3e"),l=i("4cce"),u=i("b132"),p=i("2375"),d={name:"profile-replies",components:{Reply:o["a"],Spinner:p["a"]},data:function(){return{replies:[],isLoading:!0}},created:function(){var t=this.$route.params.userId;this.fetchReplies(t)},beforeRouteUpdate:function(t,e,i){var r=t.params.userId;this.fetchReplies(r),i()},computed:Object(s["a"])({},Object(c["b"])(["currentUser"])),methods:{fetchReplies:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function i(){var r,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.prev=0,e.isLoading=!0,i.next=4,l["a"].getUserProfileReplies(t);case 4:r=i.sent,a=r.data,e.replies=a.map((function(t){var e=t.id,i=t.comment,r=t.createdAt,a=t.Tweet,n=t.User,s=n.avatar,c=n.name,o=n.id,l=a.User,u=a.id,p=l.account,d=l.id;return{id:e,comment:i,createdAt:r,avatar:s,userId:o,name:c,tweet:{id:u,User:{id:d,account:p}}}})),e.isLoading=!1,i.next=14;break;case 10:i.prev=10,i.t0=i["catch"](0),e.isLoading=!1,u["a"].fire({icon:"error",title:"無法獲取個人資料，請稍後再嘗試"});case 14:case"end":return i.stop()}}),i,null,[[0,10]])})))()}}},f=d,h=i("2877"),y=Object(h["a"])(f,r,a,!1,null,null,null);e["default"]=y.exports},"703e":function(t,e,i){},9364:function(t,e,i){},add3:function(t,e,i){"use strict";i("9364")},d0b5:function(t,e,i){"use strict";i("703e")},d81d:function(t,e,i){"use strict";var r=i("23e7"),a=i("b727").map,n=i("1dde"),s=n("map");r({target:"Array",proto:!0,forced:!s},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=chunk-75a76a83.0995b5bf.js.map